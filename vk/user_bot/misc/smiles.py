from vk.user_bot import dlp, ND


smiles = {
    'ÐºÐ°Ð¼ÐµÐ½ÑŒ': 'ðŸ—¿',
    'Ð·Ð»Ð¾': 'ðŸ‘º',
    'Ð·Ð»Ð¾Ð¼Ð°ÑÐºÐ°': 'ðŸ‘º',
    'Ð½Ð¾Ð³Ð¾Ñ‚Ð¾Ñ‡ÐºÐ¸': 'ðŸ’…ðŸ»',
    'Ñ€Ð¾Ð¶Ð°': 'ðŸ¥º',
    'Ð¼Ð¾Ñ€Ð´Ð°': 'ðŸ‘ðŸ‘„ðŸ‘',
    'ÑˆÐ¾Ðº': 'ðŸ˜³',
    'ÑÐ¾Ð»Ð½Ñ†Ðµ': 'ðŸŒ',
    'ÑƒÐ²Ñƒ': 'ðŸ‘‰ðŸ‘ˆ',
    'Ð¿Ð¶': 'ðŸ¥ºðŸ‘‰ðŸ‘ˆ',
    'ÐºÐ»Ð¾ÑƒÐ½': 'ðŸ¤¡',
    'Ð²Ð¾': 'ðŸ‘ðŸ»',
    'Ð»Ð°Ð¹Ðº': 'ðŸ‘',
    'Ð´Ð¸Ð·': 'ðŸ‘Ž',
    'Ð¿Ð¸Ñ': 'âœŒ',
    'Ð¾Ðº': 'ðŸ‘ŒðŸ»',
    'Ñ…Ð¼': 'ðŸ¤”',
    'Ð°ÑƒÑ„': 'â˜',
    'ÐµÐµÐµ': 'ðŸ¤˜ðŸ»',
    'ÐºÑ€ÑƒÑ‚ÑÐº': 'ðŸ˜³ðŸ‘ðŸ»',
    'Ð»ÑŽ': 'â¤',
    'ÑÐµÑ€Ð´Ñ†Ðµ': 'â¤',
    'ÐµÑˆÐ°': 'ðŸ’š',
    'ÐºÑÑŽ': 'ðŸ–¤',
    ')': 'ðŸ™‚',
    'Ñ…Ðµ': 'ðŸŒš',
    'Ð³ÐµÐ¹': 'ðŸ³â€ðŸŒˆ',
    'Ð¿Ð¾Ð½': 'ðŸš¬',
    'ÑƒÑ‚ÐºÐ°': 'ðŸ¦†',
    'ÐºÐ°Ñ€Ñ‚Ð¾ÑˆÐºÐ°': 'ðŸ¥”',
    'Ð³Ð»Ð°Ð·': 'ðŸ‘',
    'Ð´Ð¾Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ð»Ð¸ÑÑŒ': 'ðŸ¤ðŸ»',
    'Ð»ÐµÐ³ÑƒÑ‰ÑŒÐºÐ°': 'ðŸ¤',
    'Ð±Ð·Ð·': 'ðŸ',
    'Ð¿Ð°ÑƒÐº': 'ðŸ•·',
    'Ð¿ÐµÑ': 'ðŸ¶',
    'ÑÐ¾Ð²Ð°': 'ðŸ¦‰',
    'Ð¼Ð´Ð°': 'ðŸ˜',
    'Ñ…Ñ‹': 'â˜º',
    'Ð¿Ð¾Ð¸ÑÐº': 'ðŸ”Ž',
    'Ð¿Ð¾ÐºÐ°': 'ðŸ”ª',
    'ÑÑ…': 'ðŸ˜”âœŠ',
    'Ñ…Ð·': 'Â¯\_(ãƒ„)_/Â¯'
    # '': '',
}


@dlp.register('ÑÐ¼Ð°Ð¹Ð»Ñ‹')
def smiles_count(nd: ND):
    nd.msg_op(f'Ð’ÑÐµÐ³Ð¾ ÑÐ¼Ð°Ð¹Ð»Ð¾Ð²: {len(smiles.keys())}')


@dlp.register(*smiles.keys(), receive=True)
def smiles_misc(nd: ND):
    qty = 1
    if nd.msg['args']:
        if nd.msg['args'][0].isdigit():
            qty = int(nd.msg['args'].pop(0))

    if nd.msg['payload']:
        nd.msg['payload'] = '\n' + nd.msg['payload']

    message = f"{' '.join(nd.msg['args'])}{nd.msg['payload']} {qty * smiles[nd.msg['command']]}"  # noqa
    if len(message) > 1100:
        return nd.msg_op(1, 'Ð° Ñ‡Ðµ Ñ‚Ð°Ðº Ð¼Ð½Ð¾Ð³Ð¾ ðŸ˜³', reply_to=nd[1])

    nd.vk.msg_op(2, nd[3], message, nd[1], keep_forward_messages=1,
                 attachment=','.join(nd.msg['attachments']))
